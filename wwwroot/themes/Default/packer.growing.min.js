GrowingPacker=function(){},GrowingPacker.prototype={maxHeight:0,maxWidth:0,fit:function(t){let o=t.blocks;o.sort(function(t,o){return o.h-t.h}),this.maxHeight=t.maxHeight,this.maxWidth=t.maxWidth;var h,i,r,s=o.length,n=s>0?o[0].w:0,w=s>0?o[0].h:0;for(this.root={x:0,y:0,w:n,h:w},h=0;h<s;h++)r=o[h],(i=this.findNode(this.root,r.w,r.h))?r.fit=this.splitNode(i,r.w,r.h):r.fit=this.growNode(r.w,r.h)},findNode:function(t,o,h){return t.used?this.findNode(t.right,o,h)||this.findNode(t.down,o,h):o<=t.w&&h<=t.h?t:null},splitNode:function(t,o,h){return t.used=!0,t.down={x:t.x,y:t.y+h,w:t.w,h:t.h-h},t.right={x:t.x+o,y:t.y,w:t.w-o,h:h},t},growNode:function(t,o){var h=t<=this.root.w&&(!this.maxHeight||this.root.h+o<=this.maxHeight),i=o<=this.root.h&&(!this.maxWidth||this.root.w+t<=this.maxWidth);h||i||(this.maxWidth?h=!0:i=!0);var r=i&&this.root.h>=this.root.w+t,s=h&&this.root.w>=this.root.h+o;return r?this.growRight(t,o):s?this.growDown(t,o):t<=o&&i?this.growRight(t,o):o<t&&h?this.growDown(t,o):i?this.growRight(t,o):h?this.growDown(t,o):null},growRight:function(t,o){return this.root={used:!0,x:0,y:0,w:this.root.w+t,h:this.root.h,down:this.root,right:{x:this.root.w,y:0,w:t,h:this.root.h}},(node=this.findNode(this.root,t,o))?this.splitNode(node,t,o):null},growDown:function(t,o){return this.root={used:!0,x:0,y:0,w:this.root.w,h:this.root.h+o,down:{x:0,y:this.root.h,w:this.root.w,h:o},right:this.root},(node=this.findNode(this.root,t,o))?this.splitNode(node,t,o):null}};